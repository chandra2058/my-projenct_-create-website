!function(e,t,o,s){"use strict";if(e.console=e.console||{info:function(e){}},o)if(o.fn.esgbox)console.info("esgBox already initialized");else{var n,i,a,r,l={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,captionPosition:"bottom",preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{esgbox:!0}}},iframe:{tpl:'<iframe id="esgbox-frame{rnd}" name="esgbox-frame{rnd}" class="esgbox-iframe" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="esgbox-video" autoplay playsinline controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="esgbox-container" role="dialog" tabindex="-1"><div class="esgbox-bg"></div><div class="esgbox-inner"><div class="esgbox-infobar"><span data-esgbox-index></span>&nbsp;/&nbsp;<span data-esgbox-count></span></div><div class="esgbox-toolbar">{{buttons}}</div><div class="esgbox-navigation">{{arrows}}</div><div class="esgbox-stage"></div><div class="esgbox-caption esgbox-caption-{{position}}"><div class="esgbox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="esgbox-loading"></div>',errorTpl:'<div class="esgbox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-esgbox-download class="esgbox-button esgbox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-esgbox-zoom class="esgbox-button esgbox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-esgbox-close class="esgbox-button esgbox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-esgbox-prev class="esgbox-button esgbox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-esgbox-next class="esgbox-button esgbox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-esgbox-close class="esgbox-button esgbox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".esgbox-container",axis:"y"},wheel:"auto",onInit:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShowESGBX:o.noop,beforeClose:o.noop,afterClose:o.noop,onActivate:o.noop,onDeactivate:o.noop,clickContent:function(e,t){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(e,t){return"image"===e.type&&"toggleControls"},clickSlide:function(e,t){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e,t){return"image"===e.type&&"zoom"},dblclickSlide:function(e,t){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},c=o(e),d=o(t),g=0,u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},p=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)},h=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||function(t){e.clearTimeout(t)},f=function(){var e,o=t.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(o.style[e]!==s)return n[e];return"transitionend"}(),b=function(e){return e&&e.length&&e[0].offsetHeight},m=function(e,t){var s=o.extend(!0,{},e,t);return o.each(t,(function(e,t){Array.isArray(t)&&(s[e]=t)})),s},v=function(e,t,s){var n=this;n.opts=m({index:s},o.esgbox.defaults),o.isPlainObject(t)&&(n.opts=m(n.opts,t)),o.esgbox.isMobile&&(n.opts=m(n.opts,n.opts.mobile)),n.id=n.opts.id||++g,n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=!0,n.group=[],n.slides={},n.addContent(e),n.group.length&&n.init()};o.extend(v.prototype,{init:function(){var s,n,i=this,a=i.group[i.currIndex].opts;a.closeExisting&&o.esgbox.close(!0),o("body").addClass("esgbox-active"),!o.esgbox.getInstance()&&!1!==a.hideScrollbar&&!o.esgbox.isMobile&&t.body.scrollHeight>e.innerHeight&&(o("head").append('<style id="esgbox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(e.innerWidth-t.documentElement.clientWidth)+"px;}</style>"),o("body").addClass("compensate-for-scrollbar")),n="",o.each(a.buttons,(function(e,t){n+=a.btnTpl[t]||""})),s=o(i.translate(i,a.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",a.btnTpl.arrowLeft+a.btnTpl.arrowRight).replace("{{position}}",a.captionPosition))).attr("id","esgbox-container-"+i.id).addClass(a.baseClass).data("EsgBox",i).appendTo(a.parentEl),i.$refs={container:s},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach((function(e){i.$refs[e]=s.find(".esgbox-"+e)})),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(e,t){var o=e.opts.i18n[e.opts.lang]||e.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,(function(e,t){return o[t]===s?e:o[t]}))},addContent:function(e){var t,n=this,i=o.makeArray(e);o.each(i,(function(e,t){var i,a,r,l,c,d={},g={};o.isPlainObject(t)?(d=t,g=t.opts||t):"object"==typeof t&&null!==t&&o(t).length?(g=(i=o(t)).data()||{},(g=o.extend(!0,{},g,g.options)).$orig=i,d.src=n.opts.src||g.src||i.attr("href"),d.type||d.src||(d.type="inline",d.src=t)):d={type:"html",src:t+""},d.opts=o.extend(!0,{},n.opts,g),Array.isArray(g.buttons)&&(d.opts.buttons=g.buttons),o.esgbox.isMobile&&d.opts.mobile&&(d.opts=m(d.opts,d.opts.mobile)),a=d.type||d.opts.type,l=d.src||"",!a&&l&&((r=l.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a="video","false"!=d.opts.videoAutoPlay&&!1!==d.opts.videoAutoPlay||(d.opts.video.autoStart=!1,d.opts.video.tpl=d.opts.video.tpl.replace("autoplay",'preload="none"')),d.opts.video.format||(d.opts.video.format="video/"+("ogv"===r[1]?"ogg":r[1]))):l.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":l.match(/\.(pdf)((\?|#).*)?$/i)?(a="iframe",d=o.extend(!0,d,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===l.charAt(0)&&(a="inline")),a?d.type=a:n.trigger("objectNeedsType",d),d.contentType||(d.contentType=o.inArray(d.type,["html","inline","ajax"])>-1?"html":d.type),d.index=n.group.length,"auto"==d.opts.smallBtn&&(d.opts.smallBtn=o.inArray(d.type,["html","inline","ajax"])>-1),"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn),d.$thumb=d.opts.$thumb||null,d.opts.$trigger&&d.index===n.opts.index&&(d.$thumb=d.opts.$trigger.find("img:first"),d.$thumb.length&&(d.opts.$orig=d.opts.$trigger)),d.$thumb&&d.$thumb.length||!d.opts.$orig||(d.$thumb=d.opts.$orig.find("img:first")),d.$thumb&&!d.$thumb.length&&(d.$thumb=null),d.thumb=d.opts.thumb||(d.$thumb?d.$thumb[0].src:null),"function"==typeof d.opts.caption&&(d.opts.caption=d.opts.caption.apply(t,[n,d])),"function"==typeof n.opts.caption&&(d.opts.caption=n.opts.caption.apply(t,[n,d])),d.opts.caption instanceof o||(d.opts.caption=d.opts.caption===s?"":d.opts.caption+""),"ajax"===d.type&&(c=l.split(/\s+/,2)).length>1&&(d.src=c.shift(),d.opts.filter=c.shift()),d.opts.modal&&(d.opts=o.extend(!0,d.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),n.group.push(d)})),Object.keys(n.slides).length&&(n.updateControls(),(t=n.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var t=this;t.removeEvents(),t.$refs.container.on("click.egbx-close","[data-esgbox-close]",(function(e){e.stopPropagation(),e.preventDefault(),t.close(e)})).on("touchstart.egbx-prev click.egbx-prev","[data-esgbox-prev]",(function(e){e.stopPropagation(),e.preventDefault(),t.previous()})).on("touchstart.egbx-next click.egbx-next","[data-esgbox-next]",(function(e){e.stopPropagation(),e.preventDefault(),t.next()})).on("click.egbx","[data-esgbox-zoom]",(function(e){t[t.isScaledDown()?"scaleToActual":"scaleToFit"]()})),c.on("orientationchange.egbx resize.egbx",(function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(t.requestId&&h(t.requestId),t.requestId=p((function(){t.update(e)}))):(t.current&&"iframe"===t.current.type&&t.$refs.stage.hide(),setTimeout((function(){t.$refs.stage.show(),t.update(e)}),o.esgbox.isMobile?600:250))})),d.on("keydown.egbx",(function(e){var s=(o.esgbox?o.esgbox.getInstance():null).current,n=e.keyCode||e.which;if(9!=n){if(!(!s.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||o(e.target).is("input,textarea,video,audio,select")))return 8===n||27===n?(e.preventDefault(),void t.close(e)):37===n||38===n?(e.preventDefault(),void t.previous()):39===n||40===n?(e.preventDefault(),void t.next()):void t.trigger("afterKeydown",e,n)}else s.opts.trapFocus&&t.focus(e)})),t.group[t.currIndex].opts.idleTime&&(t.idleSecondsCounter=0,d.on("mousemove.egbx-idle mouseleave.egbx-idle mousedown.egbx-idle touchstart.egbx-idle touchmove.egbx-idle scroll.egbx-idle keydown.egbx-idle",(function(e){t.idleSecondsCounter=0,t.isIdle&&t.showControls(),t.isIdle=!1})),t.idleInterval=e.setInterval((function(){t.idleSecondsCounter++,t.idleSecondsCounter>=t.group[t.currIndex].opts.idleTime&&!t.isDragging&&(t.isIdle=!0,t.idleSecondsCounter=0,t.hideControls())}),1e3))},removeEvents:function(){var t=this;c.off("orientationchange.egbx resize.egbx"),d.off("keydown.egbx .egbx-idle"),this.$refs.container.off(".egbx-close .egbx-prev .egbx-next"),t.idleInterval&&(e.clearInterval(t.idleInterval),t.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,t){var n,i,a,r,l,c,d,g,p,h=this,f=h.group.length;if(!(h.isDragging||h.isClosing||h.isAnimating&&h.firstRun)){if(e=parseInt(e,10),!(a=h.current?h.current.opts.loop:h.opts.loop)&&(e<0||e>=f))return!1;if(n=h.firstRun=!Object.keys(h.slides).length,l=h.current,h.prevIndex=h.currIndex,h.prevPos=h.currPos,r=h.createSlide(e),f>1&&((a||r.index<f-1)&&h.createSlide(e+1),(a||r.index>0)&&h.createSlide(e-1)),h.current=r,h.currIndex=r.index,h.currPos=r.pos,h.trigger("beforeShow",n),h.updateControls(),r.forcedDuration=s,u(t)?r.forcedDuration=t:t=r.opts[n?"animationDuration":"transitionDuration"],t=parseInt(t,10),i=h.isMoved(r),r.$slide.addClass("esgbox-slide--current"),n)return r.opts.animationEffect&&t&&h.$refs.container.css("transition-duration",t+"ms"),h.$refs.container.addClass("esgbox-is-open").trigger("focus"),h.loadSlide(r),void h.preload("image");c=o.esgbox.getTranslate(l.$slide),d=o.esgbox.getTranslate(h.$refs.stage),o.each(h.slides,(function(e,t){o.esgbox.stop(t.$slide,!0)})),l.pos!==r.pos&&(l.isComplete=!1),l.$slide.removeClass("esgbox-slide--complete esgbox-slide--current"),i?(p=c.left-(l.pos*c.width+l.pos*l.opts.gutter),o.each(h.slides,(function(e,s){s.$slide.removeClass("esgbox-animated").removeClass((function(e,t){return(t.match(/(^|\s)esgbox-fx-\S+/g)||[]).join(" ")}));var n=s.pos*c.width+s.pos*s.opts.gutter;o.esgbox.setTranslate(s.$slide,{top:0,left:n-d.left+p}),s.pos!==r.pos&&s.$slide.addClass("esgbox-slide--"+(s.pos>r.pos?"next":"previous")),b(s.$slide),o.esgbox.animate(s.$slide,{top:0,left:(s.pos-r.pos)*c.width+(s.pos-r.pos)*s.opts.gutter},t,(function(){s.$slide.css({transform:"",opacity:""}).removeClass("esgbox-slide--next esgbox-slide--previous"),s.pos===h.currPos&&h.complete()}))}))):t&&r.opts.transitionEffect&&(g="esgbox-animated esgbox-fx-"+r.opts.transitionEffect,l.$slide.addClass("esgbox-slide--"+(l.pos>r.pos?"next":"previous")),o.esgbox.animate(l.$slide,g,t,(function(){l.$slide.removeClass(g).removeClass("esgbox-slide--next esgbox-slide--previous")}),!1)),r.isLoaded?h.revealContent(r):h.loadSlide(r),h.preload("image")}},createSlide:function(e){var t,s,n=this;return s=(s=e%n.group.length)<0?n.group.length+s:s,!n.slides[e]&&n.group[s]&&(t=o('<div class="esgbox-slide"></div>').appendTo(n.$refs.stage),n.slides[e]=o.extend(!0,{},n.group[s],{pos:e,$slide:t,isLoaded:!1}),n.updateSlide(n.slides[e])),n.slides[e]},scaleToActual:function(e,t,n){var i,a,r,l,c,d=this,g=d.current,u=g.$content,p=o.esgbox.getTranslate(g.$slide).width,h=o.esgbox.getTranslate(g.$slide).height,f=g.width,b=g.height;d.isAnimating||d.isMoved()||!u||"image"!=g.type||!g.isLoaded||g.hasError||(d.isAnimating=!0,o.esgbox.stop(u),e=e===s?.5*p:e,t=t===s?.5*h:t,(i=o.esgbox.getTranslate(u)).top-=o.esgbox.getTranslate(g.$slide).top,i.left-=o.esgbox.getTranslate(g.$slide).left,l=f/i.width,c=b/i.height,a=.5*p-.5*f,r=.5*h-.5*b,f>p&&((a=i.left*l-(e*l-e))>0&&(a=0),a<p-f&&(a=p-f)),b>h&&((r=i.top*c-(t*c-t))>0&&(r=0),r<h-b&&(r=h-b)),d.updateCursor(f,b),o.esgbox.animate(u,{top:r,left:a,scaleX:l,scaleY:c},n||366,(function(){d.isAnimating=!1})),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(e){var t,s=this,n=s.current,i=n.$content;s.isAnimating||s.isMoved()||!i||"image"!=n.type||!n.isLoaded||n.hasError||(s.isAnimating=!0,o.esgbox.stop(i),t=s.getFitPos(n),s.updateCursor(t.width,t.height),o.esgbox.animate(i,{top:t.top,left:t.left,scaleX:t.width/i.width(),scaleY:t.height/i.height()},e||366,(function(){s.isAnimating=!1})))},getFitPos:function(e){var t,s,n,i,a=e.$content,r=e.$slide,l=e.width||e.opts.width,c=e.height||e.opts.height,d={};if(!e.isLoaded||!a||!a.length)return!1;if(t=o.esgbox.getTranslate(this.$refs.stage).width,s=o.esgbox.getTranslate(this.$refs.stage).height,t-=parseFloat(r.css("paddingLeft"))+parseFloat(r.css("paddingRight"))+parseFloat(a.css("marginLeft"))+parseFloat(a.css("marginRight")),s-=parseFloat(r.css("paddingTop"))+parseFloat(r.css("paddingBottom"))+parseFloat(a.css("marginTop"))+parseFloat(a.css("marginBottom")),l&&c||(l=t,c=s),(l*=n=Math.min(1,t/l,s/c))>t-.5&&(l=t),(c*=n)>s-.5&&(c=s),"image"===e.type)d.top=Math.floor(.5*(s-c))+parseFloat(r.css("paddingTop")),d.left=Math.floor(.5*(t-l))+parseFloat(r.css("paddingLeft"));else if("video"===e.contentType){if("string"==typeof e.opts.ratio&&e.opts.ratio.indexOf(":")){var g=e.opts.ratio.split(":");e.opts.ratio=g[0]/g[1]}c>l/(i=e.opts.width&&e.opts.height?l/c:e.opts.ratio||16/9)?c=l/i:l>c*i&&(l=c*i)}return d.width=l,d.height=c,d},update:function(e){var t=this;o.each(t.slides,(function(o,s){t.updateSlide(s,e)}))},updateSlide:function(e,t){var s=this,n=e&&e.$content,i=e.width||e.opts.width,a=e.height||e.opts.height,r=e.$slide;s.adjustCaption(e),n&&(i||a||"video"===e.contentType)&&!e.hasError&&(o.esgbox.stop(n),o.esgbox.setTranslate(n,s.getFitPos(e)),e.pos===s.currPos&&(s.isAnimating=!1,s.updateCursor())),s.adjustLayout(e),r.length&&(r.trigger("refresh"),e.pos===s.currPos&&s.$refs.toolbar.add(s.$refs.navigation.find(".esgbox-button--arrow_right")).toggleClass("compensate-for-scrollbar",r.get(0).scrollHeight>r.get(0).clientHeight)),s.trigger("onUpdate",e,t)},centerSlide:function(e){var t=this,n=t.current,i=n.$slide;!t.isClosing&&n&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("esgbox-slide--previous esgbox-slide--next"),o.esgbox.animate(i,{top:0,left:0,opacity:1},e===s?0:e,(function(){i.css({transform:"",opacity:""}),n.isComplete||t.complete()}),!1))},isMoved:function(e){var t,s,n=e||this.current;return!!n&&(s=o.esgbox.getTranslate(this.$refs.stage),t=o.esgbox.getTranslate(n.$slide),!n.$slide.hasClass("esgbox-animated")&&(Math.abs(t.top-s.top)>.5||Math.abs(t.left-s.left)>.5))},updateCursor:function(e,t){var s,n,i=this,a=i.current,r=i.$refs.container;a&&!i.isClosing&&i.Guestures&&(r.removeClass("esgbox-is-zoomable esgbox-can-zoomIn esgbox-can-zoomOut esgbox-can-swipe esgbox-can-pan"),n=!!(s=i.canPan(e,t))||i.isZoomable(),r.toggleClass("esgbox-is-zoomable",n),o("[data-esgbox-zoom]").prop("disabled",!n),s?r.addClass("esgbox-can-pan"):n&&("zoom"===a.opts.clickContent||"function"==typeof a.opts.clickContent&&"zoom"==a.opts.clickContent(a))?r.addClass("esgbox-can-zoomIn"):a.opts.touch&&(a.opts.touch.vertical||i.group.length>1)&&"video"!==a.contentType&&r.addClass("esgbox-can-swipe"))},isZoomable:function(){var e,t=this,o=t.current;if(o&&!t.isClosing&&"image"===o.type&&!o.hasError){if(!o.isLoaded)return!0;if((e=t.getFitPos(o))&&(o.width>e.width||o.height>e.height))return!0}return!1},isScaledDown:function(e,t){var n=!1,i=this.current,a=i.$content;return e!==s&&t!==s?n=e<i.width&&t<i.height:a&&(n=(n=o.esgbox.getTranslate(a)).width<i.width&&n.height<i.height),n},canPan:function(e,t){var n=this.current,i=null,a=!1;return"image"===n.type&&(n.isComplete||e&&t)&&!n.hasError&&(a=this.getFitPos(n),e!==s&&t!==s?i={width:e,height:t}:n.isComplete&&(i=o.esgbox.getTranslate(n.$content)),i&&a&&(a=Math.abs(i.width-a.width)>1.5||Math.abs(i.height-a.height)>1.5)),a},loadSlide:function(e){var t,s,n,i=this;if(!e.isLoading&&!e.isLoaded){if(e.isLoading=!0,!1===i.trigger("beforeLoad",e))return e.isLoading=!1,!1;switch(t=e.type,(s=e.$slide).off("refresh").trigger("onReset").addClass(e.opts.slideClass),t){case"image":i.setImage(e);break;case"iframe":i.setIframe(e);break;case"html":i.setContent(e,e.src||e.content);break;case"video":i.setContent(e,e.opts.video.tpl.replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.opts.videoFormat||e.opts.video.format||"").replace("{{poster}}",e.thumb||""));break;case"inline":o(e.src).length?i.setContent(e,o(e.src)):i.setError(e);break;case"ajax":i.showLoading(e),n=o.ajax(o.extend({},e.opts.ajax.settings,{url:e.src,success:function(t,o){"success"===o&&i.setContent(e,t)},error:function(t,o){t&&"abort"!==o&&i.setError(e)}})),s.one("onReset",(function(){n.abort()}));break;default:i.setError(e)}return!0}},setImage:function(e){var s,n=this;setTimeout((function(){var t=e.$image;n.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||n.showLoading(e)}),50),n.checkSrcset(e),e.$content=o('<div class="esgbox-content"></div>').addClass("esgbox-is-hidden").appendTo(e.$slide.addClass("esgbox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(s=t.createElement("img")).onerror=function(){o(this).remove(),e.$ghost=null},s.onload=function(){n.afterLoad(e)},e.$ghost=o(s).addClass("esgbox-image").appendTo(e.$content).attr("src",e.thumb)),n.setBigImage(e)},checkSrcset:function(t){var o,s,n,i,a=t.opts.srcset||t.opts.image.srcset;if(a){n=e.devicePixelRatio||1,i=e.innerWidth*n,s=a.split(",").map((function(e){var t={};return e.trim().split(/\s+/).forEach((function(e,o){var s=parseInt(e.substring(0,e.length-1),10);if(0===o)return t.url=e;s&&(t.value=s,t.postfix=e[e.length-1])})),t})),s.sort((function(e,t){return e.value-t.value}));for(var r=0;r<s.length;r++){var l=s[r];if("w"===l.postfix&&l.value>=i||"x"===l.postfix&&l.value>=n){o=l;break}}!o&&s.length&&(o=s[s.length-1]),o&&(t.src=o.url,t.width&&t.height&&"w"==o.postfix&&(t.height=t.width/t.height*o.value,t.width=o.value),t.opts.srcset=a)}},setBigImage:function(e){var s=this,n=t.createElement("img"),i=o(n);e.$image=i.one("error",(function(){s.setError(e)})).one("load",(function(){var t;e.$ghost||(s.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),s.afterLoad(e)),s.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(e.width/e.height>1&&c.width()/c.height()>1?"100":Math.round(e.width/e.height*100))+"vw"),i.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout((function(){e.$ghost&&!s.isClosing&&e.$ghost.hide()}),Math.min(300,Math.max(1e3,e.height/1600))),s.hideLoading(e))})).addClass("esgbox-image").attr("src",e.src).appendTo(e.$content),(n.complete||"complete"==n.readyState)&&i.naturalWidth&&i.naturalHeight?i.trigger("load"):n.error&&i.trigger("error")},resolveImageSlideSize:function(e,t,o){var s=parseInt(e.opts.width,10),n=parseInt(e.opts.height,10);e.width=t,e.height=o,s>0&&(e.width=s,e.height=Math.floor(s*o/t)),n>0&&(e.width=Math.floor(n*t/o),e.height=n)},setIframe:function(e){var t,n=this,i=e.opts.iframe,a=e.$slide;e.$content=o('<div class="esgbox-content'+(i.preload?" esgbox-is-hidden":"")+'"></div>').css(i.css).appendTo(a),a.addClass("esgbox-slide--"+e.contentType),e.$iframe=t=o(i.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(i.attr).appendTo(e.$content),i.preload?(n.showLoading(e),t.on("load.egbx error.egbx",(function(t){this.isReady=1,e.$slide.trigger("refresh"),n.afterLoad(e)})),a.on("refresh.egbx",(function(){var o,n=e.$content,r=i.css.width,l=i.css.height;if(1===t[0].isReady){try{o=t.contents().find("body")}catch(e){}o&&o.length&&o.children().length&&(a.css("overflow","visible"),n.css({width:"100%","max-width":"100%",height:"9999px"}),r===s&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),n.css("width",r||"").css("max-width",""),l===s&&(l=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),n.css("height",l||""),a.css("overflow","auto")),n.removeClass("esgbox-is-hidden")}}))):n.afterLoad(e),t.attr("src",e.src),a.one("onReset",(function(){try{o(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}o(this).off("refresh.egbx").empty(),e.isLoaded=!1,e.isRevealed=!1}))},setContent:function(e,t){var s,n=this;n.isClosing||(n.hideLoading(e),e.$content&&o.esgbox.stop(e.$content),e.$slide.empty(),(s=t)&&s.hasOwnProperty&&s instanceof o&&t.parent().length?((t.hasClass("esgbox-content")||t.parent().hasClass("esgbox-content"))&&t.parents(".esgbox-slide").trigger("onReset"),e.$placeholder=o("<div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"==typeof t&&(t=o("<div>").append(o.trim(t)).contents()),e.opts.filter&&(t=o("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",(function(){o(this).find("video,audio").trigger("pause"),e.$placeholder&&(e.$placeholder.after(t.removeClass("esgbox-content").hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(o(this).empty(),e.isLoaded=!1,e.isRevealed=!1)})),o(t).appendTo(e.$slide),o(t).is("video,audio")&&(o(t).addClass("esgbox-video"),o(t).wrap("<div></div>"),e.contentType="video",e.opts.width=e.opts.width||o(t).attr("width"),e.opts.height=e.opts.height||o(t).attr("height")),e.$content=e.$slide.children().filter("div,form,main,video,audio,article,.esgbox-content").first(),e.$content.siblings().hide(),e.$content.length||(e.$content=e.$slide.wrapInner("<div></div>").children().first()),e.$content.addClass("esgbox-content"),e.$slide.addClass("esgbox-slide--"+e.contentType),n.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.trigger("onReset").removeClass("esgbox-slide--"+e.contentType).addClass("esgbox-slide--error"),e.contentType="html",this.setContent(e,this.translate(e,e.opts.errorTpl)),e.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(e){var t=this;(e=e||t.current)&&!e.$spinner&&(e.$spinner=o(t.translate(t,t.opts.spinnerTpl)).appendTo(e.$slide).hide().fadeIn("fast"))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.stop().remove(),delete e.$spinner)},afterLoad:function(e){var t=this;t.isClosing||(e.isLoading=!1,e.isLoaded=!0,t.trigger("afterLoad",e),t.hideLoading(e),!e.opts.smallBtn||e.$smallBtn&&e.$smallBtn.length||(e.$smallBtn=o(t.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.egbx",(function(e){return 2==e.button&&e.preventDefault(),!0})),"image"===e.type&&o('<div class="esgbox-spaceball"></div>').appendTo(e.$content)),t.adjustCaption(e),t.adjustLayout(e),e.pos===t.currPos&&t.updateCursor(),t.revealContent(e))},adjustCaption:function(e){var t,o=this,s=e||o.current,n=s.opts.caption,i=s.opts.captionPosition,a=s.opts.preventCaptionOverlap,r=o.$refs.caption,l=!1;r.toggleClass("esgbox-caption--separate",a),a&&n&&n.length&&(s.pos!==o.currPos?((t=r.clone().appendTo(r.parent())).children().eq(0).empty().html(n),l=t.outerHeight(!0),t.empty().remove()):o.$caption&&(l=o.$caption.outerHeight(!0)),s.$slide.css("padding-"+i,l||""))},adjustLayout:function(e){var t,o,s,n,i=e||this.current;i.isLoaded&&!0!==i.opts.disableLayoutFix&&(i.$content.css("margin-bottom",""),i.$content.outerHeight()>i.$slide.height()+.5&&(s=i.$slide[0].style["padding-bottom"],n=i.$slide.css("padding-bottom"),parseFloat(n)>0&&(t=i.$slide[0].scrollHeight,i.$slide.css("padding-bottom",0),Math.abs(t-i.$slide[0].scrollHeight)<1&&(o=n),i.$slide.css("padding-bottom",s))),i.$content.css("margin-bottom",o))},revealContent:function(e){var t,n,i,a,r=this,l=e.$slide,c=!1,d=!1,g=r.isMoved(e),u=e.isRevealed;return e.isRevealed=!0,t=e.opts[r.firstRun?"animationEffect":"transitionEffect"],i=e.opts[r.firstRun?"animationDuration":"transitionDuration"],i=parseInt(e.forcedDuration===s?i:e.forcedDuration,10),!g&&e.pos===r.currPos&&i||(t=!1),"zoom"===t&&(e.pos===r.currPos&&i&&"image"===e.type&&!e.hasError&&(d=r.getThumbPos(e))?c=r.getFitPos(e):t="fade"),"zoom"===t?(r.isAnimating=!0,c.scaleX=c.width/d.width,c.scaleY=c.height/d.height,"auto"==(a=e.opts.zoomOpacity)&&(a=Math.abs(e.width/e.height-d.width/d.height)>.1),a&&(d.opacity=.1,c.opacity=1),o.esgbox.setTranslate(e.$content.removeClass("esgbox-is-hidden"),d),b(e.$content),void o.esgbox.animate(e.$content,c,i,(function(){r.isAnimating=!1,r.complete()}))):(r.updateSlide(e),t?(o.esgbox.stop(l),n="esgbox-slide--"+(e.pos>=r.prevPos?"next":"previous")+" esgbox-animated esgbox-fx-"+t,l.addClass(n).removeClass("esgbox-slide--current"),e.$content.removeClass("esgbox-is-hidden"),b(l),"image"!==e.type&&e.$content.hide().show(0),void o.esgbox.animate(l,"esgbox-slide--current",i,(function(){l.removeClass(n).css({transform:"",opacity:""}),e.pos===r.currPos&&r.complete()}),!0)):(e.$content.removeClass("esgbox-is-hidden"),u||!g||"image"!==e.type||e.hasError||e.$content.hide().fadeIn("fast"),void(e.pos===r.currPos&&r.complete())))},getThumbPos:function(e){var s,n,i,a,r,l,c=e.$thumb;return!(!c||!function(e){var s,n;return!(!e||e.ownerDocument!==t)&&(o(".esgbox-container").css("pointer-events","none"),s={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2},n=t.elementFromPoint(s.x,s.y)===e,o(".esgbox-container").css("pointer-events",""),n)}(c[0]))&&(n=o.esgbox.getTranslate(c),i=parseFloat(c.css("border-top-width")||0),a=parseFloat(c.css("border-right-width")||0),r=parseFloat(c.css("border-bottom-width")||0),l=parseFloat(c.css("border-left-width")||0),s={top:n.top+i,left:n.left+l,width:n.width-a-l,height:n.height-i-r,scaleX:1,scaleY:1},n.width>0&&n.height>0&&s)},complete:function(){var e,t=this,s=t.current,n={};!t.isMoved()&&s.isLoaded&&(s.isComplete||(s.isComplete=!0,s.$slide.siblings().trigger("onReset"),t.preload("inline"),b(s.$slide),s.$slide.addClass("esgbox-slide--complete"),o.each(t.slides,(function(e,s){s.pos>=t.currPos-1&&s.pos<=t.currPos+1?n[s.pos]=s:s&&(o.esgbox.stop(s.$slide),s.$slide.off().remove())})),t.slides=n),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShowESGBX"),s.opts.video.autoStart&&s.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",(function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),t.next()})),s.opts.autoFocus&&"html"===s.contentType&&((e=s.$content.find("input[autofocus]:enabled:visible:first")).length?e.trigger("focus"):t.focus(null,!0)),s.$slide.scrollTop(0).scrollLeft(0))},preload:function(e){var t,o,s=this;s.group.length<2||(o=s.slides[s.currPos+1],(t=s.slides[s.currPos-1])&&t.type===e&&s.loadSlide(t),o&&o.type===e&&s.loadSlide(o))},focus:function(e,s){var n,i,a=this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");a.isClosing||((n=(n=!e&&a.current&&a.current.isComplete?a.current.$slide.find("*:visible"+(s?":not(.esgbox-close-small)":"")):a.$refs.container.find("*:visible")).filter(r).filter((function(){return"hidden"!==o(this).css("visibility")&&!o(this).hasClass("disabled")}))).length?(i=n.index(t.activeElement),e&&e.shiftKey?(i<0||0==i)&&(e.preventDefault(),n.eq(n.length-1).trigger("focus")):(i<0||i==n.length-1)&&(e&&e.preventDefault(),n.eq(0).trigger("focus"))):a.$refs.container.trigger("focus"))},activate:function(){var e=this;o(".esgbox-container").each((function(){var t=o(this).data("EsgBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)})),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(e,t){var s,n,i,a,r,l,c,d=this,g=d.current,h=function(){d.cleanUp(e)};return!d.isClosing&&(d.isClosing=!0,!1===d.trigger("beforeClose",e)?(d.isClosing=!1,p((function(){d.update()})),!1):(d.removeEvents(),i=g.$content,s=g.opts.animationEffect,n=u(t)?t:s?g.opts.animationDuration:0,g.$slide.removeClass("esgbox-slide--complete esgbox-slide--next esgbox-slide--previous esgbox-animated"),!0!==e?o.esgbox.stop(g.$slide):s=!1,g.$slide.siblings().trigger("onReset").remove(),n&&d.$refs.container.removeClass("esgbox-is-open").addClass("esgbox-is-closing").css("transition-duration",n+"ms"),d.hideLoading(g),d.hideControls(!0),d.updateCursor(),"zoom"!==s||i&&n&&"image"===g.type&&!d.isMoved()&&!g.hasError&&(c=d.getThumbPos(g))||(s="fade"),"zoom"===s?(o.esgbox.stop(i),l={top:(a=o.esgbox.getTranslate(i)).top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height},"auto"==(r=g.opts.zoomOpacity)&&(r=Math.abs(g.width/g.height-c.width/c.height)>.1),r&&(c.opacity=0),o.esgbox.setTranslate(i,l),b(i),o.esgbox.animate(i,c,n,h),!0):(s&&n?o.esgbox.animate(g.$slide.addClass("esgbox-slide--previous").removeClass("esgbox-slide--current"),"esgbox-animated esgbox-fx-"+s,n,h):!0===e?setTimeout(h,n):h(),!0)))},cleanUp:function(t){var s,n,i,a=this,r=a.current.opts.$orig;a.current.$slide.trigger("onReset"),a.$refs.container.empty().remove(),a.trigger("afterClose",t),a.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=a.$trigger),r&&r.length&&(n=e.scrollX,i=e.scrollY,r.trigger("focus"),o("html, body").scrollTop(i).scrollLeft(n))),a.current=null,(s=o.esgbox.getInstance())?s.activate():(o("body").removeClass("esgbox-active compensate-for-scrollbar"),o("#esgbox-style-noscroll").remove())},trigger:function(e,t){var o,s=Array.prototype.slice.call(arguments,1),n=this,i=t&&t.opts?t:n.current;if(i?s.unshift(i):i=n,s.unshift(n),"function"==typeof i.opts[e]&&(o=i.opts[e].apply(i,s)),!1===o)return o;"afterClose"!==e&&n.$refs?n.$refs.container.trigger(e+".egbx",s):d.trigger(e+".egbx",s)},updateControls:function(){var e=this,s=e.current,n=s.index,i=e.$refs.container,a=e.$refs.caption,r=s.opts.caption;s.$slide.trigger("refresh"),r&&r.length?(e.$caption=a,a.children().eq(0).html(r)):e.$caption=null,e.hasHiddenControls||e.isIdle||e.showControls(),i.find("[data-esgbox-count]").html(e.group.length),i.find("[data-esgbox-index]").html(n+1),i.find("[data-esgbox-prev]").prop("disabled",!s.opts.loop&&n<=0),i.find("[data-esgbox-next]").prop("disabled",!s.opts.loop&&n>=e.group.length-1),"image"===s.type?i.find("[data-esgbox-zoom]").show().end().find("[data-esgbox-download]").attr("href",s.opts.image.src||s.src).show():s.opts.toolbar&&i.find("[data-esgbox-download],[data-esgbox-zoom]").hide(),o(t.activeElement).is(":hidden,[disabled]")&&e.$refs.container.trigger("focus")},hideControls:function(e){var t=["infobar","toolbar","nav"];!e&&this.current.opts.preventCaptionOverlap||t.push("caption"),this.$refs.container.removeClass(t.map((function(e){return"esgbox-show-"+e})).join(" ")),this.hasHiddenControls=!0},showControls:function(){var e=this,t=e.current?e.current.opts:e.opts,o=e.$refs.container;e.hasHiddenControls=!1,e.idleSecondsCounter=0,o.toggleClass("esgbox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("esgbox-show-infobar",!!(t.infobar&&e.group.length>1)).toggleClass("esgbox-show-caption",!!e.$caption).toggleClass("esgbox-show-nav",!!(t.arrows&&e.group.length>1)).toggleClass("esgbox-is-modal",!!t.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),o.esgbox={version:"3.5.7",defaults:l,getInstance:function(e){var t=o('.esgbox-container:not(".esgbox-is-closing"):last').data("EsgBox"),s=Array.prototype.slice.call(arguments,1);return t instanceof v&&("string"==typeof e?t[e].apply(t,s):"function"==typeof e&&e.apply(t,s),t)},open:function(e,t,o){return new v(e,t,o)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e&&this.close(e))},destroy:function(){this.close(!0),d.add("body").off("click.egbx-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(n=t.createElement("div"),e.getComputedStyle&&e.getComputedStyle(n)&&e.getComputedStyle(n).getPropertyValue("transform")&&!(t.documentMode&&t.documentMode<11)),getTranslate:function(e){var t;return!(!e||!e.length)&&{top:(t=e[0].getBoundingClientRect()).top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(e.css("opacity"))}},setTranslate:function(e,t){var o="",n={};if(e&&t)return t.left===s&&t.top===s||(o=(t.left===s?e.position().left:t.left)+"px, "+(t.top===s?e.position().top:t.top)+"px",o=this.use3d?"translate3d("+o+", 0px)":"translate("+o+")"),t.scaleX!==s&&t.scaleY!==s?o+=" scale("+t.scaleX+", "+t.scaleY+")":t.scaleX!==s&&(o+=" scaleX("+t.scaleX+")"),o.length&&(n.transform=o),t.opacity!==s&&(n.opacity=t.opacity),t.width!==s&&(n.width=t.width),t.height!==s&&(n.height=t.height),e.css(n)},animate:function(e,t,n,i,a){var r,l=this;"function"==typeof n&&(i=n,n=null),l.stop(e),r=l.getTranslate(e),e.on(f,(function(c){(!c||!c.originalEvent||e.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(l.stop(e),u(n)&&e.css("transition-duration",""),o.isPlainObject(t)?t.scaleX!==s&&t.scaleY!==s&&l.setTranslate(e,{top:t.top,left:t.left,width:r.width*t.scaleX,height:r.height*t.scaleY,scaleX:1,scaleY:1}):!0!==a&&e.removeClass(t),"function"==typeof i&&i(c))})),u(n)&&e.css("transition-duration",n+"ms"),o.isPlainObject(t)?(t.scaleX!==s&&t.scaleY!==s&&(delete t.width,delete t.height,e.parent().hasClass("esgbox-slide--image")&&e.parent().addClass("esgbox-is-scaling")),o.esgbox.setTranslate(e,t)):e.addClass(t),e.data("timer",setTimeout((function(){e.trigger(f)}),n+33))},stop:function(e,t){e&&e.length&&(clearTimeout(e.data("timer")),t&&e.trigger(f),e.off(f).css("transition-duration",""),e.parent().removeClass("esgbox-is-scaling"))}},o.fn.esgbox=function(e){var t;return(t=(e=e||{}).selector||!1)?o("body").off("click.egbx-start",t).on("click.egbx-start",t,{options:e},x):this.off("click.egbx-start").on("click.egbx-start",{items:this,options:e},x),this},d.on("click.egbx-start","[data-esgbox]",x),d.on("click.egbx-start","[data-esgbox-trigger]",(function(e){o('[data-esgbox="'+o(this).attr("data-esgbox-trigger")+'"]').eq(o(this).attr("data-esgbox-index")||0).trigger("click.egbx-start",{$trigger:o(this)})})),i=".esgbox-button",a="esgbox-focus",r=null,d.on("mousedown mouseup focus blur",i,(function(e){switch(e.type){case"mousedown":r=o(this);break;case"mouseup":r=null;break;case"focusin":o(i).removeClass(a),o(this).is(r)||o(this).is("[disabled]")||o(this).addClass(a);break;case"focusout":o(i).removeClass(a)}}))}function x(e,t){var s,n,i,a=[],r=0;e&&e.isDefaultPrevented()||(e.preventDefault(),t=t||{},e&&e.data&&(t=m(e.data.options,t)),s=t.$target||o(e.currentTarget).trigger("blur"),(i=o.esgbox.getInstance())&&i.$trigger&&i.$trigger.is(s)||(a=t.selector?o(t.selector):(n=s.attr("data-esgbox")||"")?(a=e.data?e.data.items:[]).length?a.filter('[data-esgbox="'+n+'"]'):o('[data-esgbox="'+n+'"]'):[s],(r=o(a).index(s))<0&&(r=0),(i=o.esgbox.open(a,t,r)).$trigger=s))}}(window,document,jQuery),function(e){"use strict";var t={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{rel:0,autoplay:1,autohide:1,fs:1,hd:1,playsinline:1,wmode:"transparent",enablejsapi:1,origin:location.protocol+"//"+location.hostname,html5:1,mute:0},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/([\d]+)\/?(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$1"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&e[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},o=function(t,o,s){if(t)return"object"==typeof(s=s||"")&&null!==s&&(s=e.param(s,!0)),e.each(o,(function(e,o){t=t.replace("$"+e,o||"")})),s.length&&(t+=(t.indexOf("?")>0?"&":"?")+s),t};e(document).on("objectNeedsType.egbx",(function(s,n,i){var a,r,l,c,d,g,u,p=i.src||"",h=!1;a=e.extend(!0,{},t,i.opts.media),e.each(a,(function(t,s){if(l=p.match(s.matcher)){if(h=s.type,u=t,g={},s.paramPlace&&l[s.paramPlace]){"?"==(d=l[s.paramPlace])[0]&&(d=d.substring(1)),d=d.split("&");for(var n=0;n<d.length;++n){var f=d[n].split("=",2);2==f.length&&(g[f[0]]=decodeURIComponent(f[1].replace(/\+/g," ")))}}return c=e.extend(!0,{},s.params,i.opts[t],g),"youtube"===t&&("false"==i.opts.videoAutoPlay||!1===i.opts.videoAutoPlay?(i.opts.video.autoStart=!1,c.autoplay=0,c.mute=0):(e.esgbox.is_mobile()||e.esgbox.isSafari11())&&(c.mute=1)),"vimeo"===t&&("false"==i.opts.videoAutoPlay||!1===i.opts.videoAutoPlay?(i.opts.video.autoStart=!1,c.autoplay=0,c.muted=0):(e.esgbox.is_mobile()||e.esgbox.isSafari11())&&(c.muted=1),l[2]&&(c.h=l[2])),p="function"==typeof s.url?s.url.call(this,l,c,i):o(s.url,l,c),r="function"==typeof s.thumb?s.thumb.call(this,l,c,i):o(s.thumb,l),"youtube"===t?("false"!=i.opts.videoAutoPlay&&!1!==i.opts.videoAutoPlay||(i.opts.video.autoStart=!1,a.youtube.params.autoplay=0,a.youtube.params.mute=0),p=p.replace(/&t=((\d+)m)?(\d+)s/,(function(e,t,o,s){return"&start="+((o?60*parseInt(o,10):0)+parseInt(s,10))}))):"vimeo"===t&&(p=p.replace("&%23","#")),!1}})),h?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=r),"iframe"===h&&(i.opts=e.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),e.extend(i,{type:h,src:p,origSrc:i.src,contentSource:u,contentType:"image"===h?"image":"gmap_place"==u||"gmap_search"==u?"map":"video"})):p&&(i.type=i.opts.defaultType)}));var s={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,o=this;this[e].loaded?setTimeout((function(){o.done(e)})):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){o[e].loaded=!0,o.done(e)}:t.onload=function(){o[e].loaded=!0,o.done(e)},document.body.appendChild(t))},done:function(t){var o,s,n;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(o=e.esgbox.getInstance())&&(s=o.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?n=new YT.Player(s.attr("id"),{events:{onStateChange:function(e){0==e.data&&o.group.length>1&&o.next()},onReady:function(t){(t&&t.target?jQuery(t.target.g||t.target.h||t.target.i).attr("src"):"").indexOf("autoplay=1")>-1&&(e.esgbox.is_mobile()||e.esgbox.isSafari11())&&(n.setVolume(0),n.mute(),n.playVideo())}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&(n=new Vimeo.Player(s)).on("ended",(function(){o.next()})))}};e(document).on({"afterShowESGBX.egbx":function(e,t,o){"youtube"!==o.contentSource&&"vimeo"!==o.contentSource||s.load(o.contentSource)}})}(jQuery),function(e,t,o){"use strict";var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)},n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||function(t){e.clearTimeout(t)},i=function(t){var o=[];for(var s in t=(t=t.originalEvent||t||e.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[s].pageX?o.push({x:t[s].pageX,y:t[s].pageY}):t[s].clientX&&o.push({x:t[s].clientX,y:t[s].clientY});return o},a=function(e,t,o){return t&&e?"x"===o?e.x-t.x:"y"===o?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},r=function(e){if(e.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||"function"==typeof e.get(0).onclick||e.data("selectable"))return!0;for(var t=0,o=e[0].attributes,s=o.length;t<s;t++)if("data-esgbox-"===o[t].nodeName.substr(0,14))return!0;return!1},l=function(t){for(var o,s,n,i,a,r=!1;o=t.get(0),s=void 0,n=void 0,i=void 0,a=void 0,s=e.getComputedStyle(o)["overflow-y"],n=e.getComputedStyle(o)["overflow-x"],i=("scroll"===s||"auto"===s)&&o.scrollHeight>o.clientHeight,a=("scroll"===n||"auto"===n)&&o.scrollWidth>o.clientWidth,!(r=i||a)&&(t=t.parent()).length&&!t.hasClass("esgbox-stage")&&!t.is("body"););return r},c=function(e){var t=this;t.instance=e,t.$bg=e.$refs.bg,t.$stage=e.$refs.stage,t.$container=e.$refs.container,t.destroy(),t.$container.on("touchstart.egbx.touch mousedown.egbx.touch",o.proxy(t,"ontouchstart"))};c.prototype.destroy=function(){var e=this;e.$container.off(".egbx.touch"),o(t).off(".egbx.touch"),e.requestId&&(n(e.requestId),e.requestId=null),e.tapped&&(clearTimeout(e.tapped),e.tapped=null)},c.prototype.ontouchstart=function(s){var n=this,c=o(s.target),d=n.instance,g=d.current,u=g.$slide,p=g.$content,h="touchstart"==s.type;if(h&&n.$container.off("mousedown.egbx.touch"),(!s.originalEvent||2!=s.originalEvent.button)&&u.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(s.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!g||d.isAnimating||g.$slide.hasClass("esgbox-animated"))return s.stopPropagation(),void s.preventDefault();n.realPoints=n.startPoints=i(s),n.startPoints.length&&(g.touch&&s.stopPropagation(),n.startEvent=s,n.canTap=!0,n.$target=c,n.$content=p,n.opts=g.opts.touch,n.isPanning=!1,n.isSwiping=!1,n.isZooming=!1,n.isScrolling=!1,n.canPan=d.canPan(),n.startTime=(new Date).getTime(),n.distanceX=n.distanceY=n.distance=0,n.canvasWidth=Math.round(u[0].clientWidth),n.canvasHeight=Math.round(u[0].clientHeight),n.contentLastPos=null,n.contentStartPos=o.esgbox.getTranslate(n.$content)||{top:0,left:0},n.sliderStartPos=o.esgbox.getTranslate(u),n.stagePos=o.esgbox.getTranslate(d.$refs.stage),n.sliderStartPos.top-=n.stagePos.top,n.sliderStartPos.left-=n.stagePos.left,n.contentStartPos.top-=n.stagePos.top,n.contentStartPos.left-=n.stagePos.left,o(t).off(".egbx.touch").on(h?"touchend.egbx.touch touchcancel.egbx.touch":"mouseup.egbx.touch mouseleave.egbx.touch",o.proxy(n,"ontouchend")).on(h?"touchmove.egbx.touch":"mousemove.egbx.touch",o.proxy(n,"ontouchmove")),o.esgbox.isMobile&&t.addEventListener("scroll",n.onscroll,!0),((n.opts||n.canPan)&&(c.is(n.$stage)||n.$stage.find(c).length)||(c.is(".esgbox-image")&&s.preventDefault(),o.esgbox.isMobile&&c.parents(".esgbox-caption").length))&&(n.isScrollable=l(c)||l(c.parent()),o.esgbox.isMobile&&n.isScrollable||s.preventDefault(),(1===n.startPoints.length||g.hasError)&&(n.canPan?(o.esgbox.stop(n.$content),n.isPanning=!0):n.isSwiping=!0,n.$container.addClass("esgbox-is-grabbing")),2===n.startPoints.length&&"image"===g.type&&(g.isLoaded||g.$ghost)&&(n.canTap=!1,n.isSwiping=!1,n.isPanning=!1,n.isZooming=!0,o.esgbox.stop(n.$content),n.centerPointStartX=.5*(n.startPoints[0].x+n.startPoints[1].x)-o(e).scrollLeft(),n.centerPointStartY=.5*(n.startPoints[0].y+n.startPoints[1].y)-o(e).scrollTop(),n.percentageOfImageAtPinchPointX=(n.centerPointStartX-n.contentStartPos.left)/n.contentStartPos.width,n.percentageOfImageAtPinchPointY=(n.centerPointStartY-n.contentStartPos.top)/n.contentStartPos.height,n.startDistanceBetweenFingers=a(n.startPoints[0],n.startPoints[1]))))}},c.prototype.onscroll=function(e){this.isScrolling=!0,t.removeEventListener("scroll",this.onscroll,!0)},c.prototype.ontouchmove=function(e){var t=this;void 0===e.originalEvent.buttons||0!==e.originalEvent.buttons?t.isScrolling?t.canTap=!1:(t.newPoints=i(e),(t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length&&(t.isSwiping&&!0===t.isSwiping||e.preventDefault(),t.distanceX=a(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=a(t.newPoints[0],t.startPoints[0],"y"),t.distance=a(t.newPoints[0],t.startPoints[0]),t.distance>0&&(t.isSwiping?t.onSwipe(e):t.isPanning?t.onPan():t.isZooming&&t.onZoom()))):t.ontouchend(e)},c.prototype.onSwipe=function(t){var i,a=this,r=a.instance,l=a.isSwiping,c=a.sliderStartPos.left||0;if(!0!==l)"x"==l&&(a.distanceX>0&&(a.instance.group.length<2||0===a.instance.current.index&&!a.instance.current.opts.loop)?c+=Math.pow(a.distanceX,.8):a.distanceX<0&&(a.instance.group.length<2||a.instance.current.index===a.instance.group.length-1&&!a.instance.current.opts.loop)?c-=Math.pow(-a.distanceX,.8):c+=a.distanceX),a.sliderLastPos={top:"x"==l?0:a.sliderStartPos.top+a.distanceY,left:c},a.requestId&&(n(a.requestId),a.requestId=null),a.requestId=s((function(){a.sliderLastPos&&(o.each(a.instance.slides,(function(e,t){var s=t.pos-a.instance.currPos;o.esgbox.setTranslate(t.$slide,{top:a.sliderLastPos.top,left:a.sliderLastPos.left+s*a.canvasWidth+s*t.opts.gutter})})),a.$container.addClass("esgbox-is-sliding"))}));else if(Math.abs(a.distance)>10){if(a.canTap=!1,r.group.length<2&&a.opts.vertical?a.isSwiping="y":r.isDragging||!1===a.opts.vertical||"auto"===a.opts.vertical&&o(e).width()>800?a.isSwiping="x":(i=Math.abs(180*Math.atan2(a.distanceY,a.distanceX)/Math.PI),a.isSwiping=i>45&&i<135?"y":"x"),"y"===a.isSwiping&&o.esgbox.isMobile&&a.isScrollable)return void(a.isScrolling=!0);r.isDragging=a.isSwiping,a.startPoints=a.newPoints,o.each(r.slides,(function(e,t){var s,n;o.esgbox.stop(t.$slide),s=o.esgbox.getTranslate(t.$slide),n=o.esgbox.getTranslate(r.$refs.stage),t.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("esgbox-animated").removeClass((function(e,t){return(t.match(/(^|\s)esgbox-fx-\S+/g)||[]).join(" ")})),t.pos===r.current.pos&&(a.sliderStartPos.top=s.top-n.top,a.sliderStartPos.left=s.left-n.left),o.esgbox.setTranslate(t.$slide,{top:s.top-n.top,left:s.left-n.left})})),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},c.prototype.onPan=function(){var e=this;a(e.newPoints[0],e.realPoints[0])<(o.esgbox.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&n(e.requestId),e.requestId=s((function(){o.esgbox.setTranslate(e.$content,e.contentLastPos)})))},c.prototype.limitMovement=function(){var e,t,o,s,n,i,a=this,r=a.canvasWidth,l=a.canvasHeight,c=a.distanceX,d=a.distanceY,g=a.contentStartPos,u=g.left,p=g.top,h=g.width,f=g.height;return n=h>r?u+c:u,i=p+d,e=Math.max(0,.5*r-.5*h),t=Math.max(0,.5*l-.5*f),o=Math.min(r-h,.5*r-.5*h),s=Math.min(l-f,.5*l-.5*f),c>0&&n>e&&(n=e-1+Math.pow(-e+u+c,.8)||0),c<0&&n<o&&(n=o+1-Math.pow(o-u-c,.8)||0),d>0&&i>t&&(i=t-1+Math.pow(-t+p+d,.8)||0),d<0&&i<s&&(i=s+1-Math.pow(s-p-d,.8)||0),{top:i,left:n}},c.prototype.limitPosition=function(e,t,o,s){var n=this.canvasWidth,i=this.canvasHeight;return e=o>n?(e=e>0?0:e)<n-o?n-o:e:Math.max(0,n/2-o/2),{top:t=s>i?(t=t>0?0:t)<i-s?i-s:t:Math.max(0,i/2-s/2),left:e}},c.prototype.onZoom=function(){var t=this,i=t.contentStartPos,r=i.width,l=i.height,c=i.left,d=i.top,g=a(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,u=Math.floor(r*g),p=Math.floor(l*g),h=(r-u)*t.percentageOfImageAtPinchPointX,f=(l-p)*t.percentageOfImageAtPinchPointY,b=(t.newPoints[0].x+t.newPoints[1].x)/2-o(e).scrollLeft(),m=(t.newPoints[0].y+t.newPoints[1].y)/2-o(e).scrollTop(),v=b-t.centerPointStartX,x={top:d+(f+(m-t.centerPointStartY)),left:c+(h+v),scaleX:g,scaleY:g};t.canTap=!1,t.newWidth=u,t.newHeight=p,t.contentLastPos=x,t.requestId&&n(t.requestId),t.requestId=s((function(){o.esgbox.setTranslate(t.$content,t.contentLastPos)}))},c.prototype.ontouchend=function(e){var s=this,a=s.isSwiping,r=s.isPanning,l=s.isZooming,c=s.isScrolling;if(s.endPoints=i(e),s.dMs=Math.max((new Date).getTime()-s.startTime,1),s.$container.removeClass("esgbox-is-grabbing"),o(t).off(".egbx.touch"),t.removeEventListener("scroll",s.onscroll,!0),s.requestId&&(n(s.requestId),s.requestId=null),s.isSwiping=!1,s.isPanning=!1,s.isZooming=!1,s.isScrolling=!1,s.instance.isDragging=!1,s.canTap)return s.onTap(e);s.speed=100,s.velocityX=s.distanceX/s.dMs*.5,s.velocityY=s.distanceY/s.dMs*.5,r?s.endPanning():l?s.endZooming():s.endSwiping(a,c)},c.prototype.endSwiping=function(e,t){var s=this,n=!1,i=s.instance.group.length,a=Math.abs(s.distanceX),r="x"==e&&i>1&&(s.dMs>130&&a>10||a>50);s.sliderLastPos=null,"y"==e&&!t&&Math.abs(s.distanceY)>50?(o.esgbox.animate(s.instance.current.$slide,{top:s.sliderStartPos.top+s.distanceY+150*s.velocityY,opacity:0},200),n=s.instance.close(!0,250)):r&&s.distanceX>0?n=s.instance.previous(300):r&&s.distanceX<0&&(n=s.instance.next(300)),!1!==n||"x"!=e&&"y"!=e||s.instance.centerSlide(200),s.$container.removeClass("esgbox-is-sliding")},c.prototype.endPanning=function(){var e,t,s,n=this;n.contentLastPos&&(!1===n.opts.momentum||n.dMs>350?(e=n.contentLastPos.left,t=n.contentLastPos.top):(e=n.contentLastPos.left+500*n.velocityX,t=n.contentLastPos.top+500*n.velocityY),(s=n.limitPosition(e,t,n.contentStartPos.width,n.contentStartPos.height)).width=n.contentStartPos.width,s.height=n.contentStartPos.height,o.esgbox.animate(n.$content,s,366))},c.prototype.endZooming=function(){var e,t,s,n,i=this,a=i.instance.current,r=i.newWidth,l=i.newHeight;i.contentLastPos&&(e=i.contentLastPos.left,n={top:t=i.contentLastPos.top,left:e,width:r,height:l,scaleX:1,scaleY:1},o.esgbox.setTranslate(i.$content,n),r<i.canvasWidth&&l<i.canvasHeight?i.instance.scaleToFit(150):r>a.width||l>a.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(s=i.limitPosition(e,t,r,l),o.esgbox.animate(i.$content,s,150)))},c.prototype.onTap=function(t){var s,n=this,a=o(t.target),r=n.instance,l=r.current,c=t&&i(t)||n.startPoints,d=c[0]?c[0].x-o(e).scrollLeft()-n.stagePos.left:0,g=c[0]?c[0].y-o(e).scrollTop()-n.stagePos.top:0,u=function(e){var o=l.opts[e];if("function"==typeof o&&(o=o.apply(r,[l,t])),o)switch(o){case"close":r.close(n.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(n.startEvent);break;case"zoom":"image"==l.type&&(l.isLoaded||l.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,g):r.group.length<2&&r.close(n.startEvent))}};if((!t.originalEvent||2!=t.originalEvent.button)&&(a.is("img")||!(d>a[0].clientWidth+a.offset().left))){if(a.is(".esgbox-bg,.esgbox-inner,.esgbox-outer,.esgbox-container"))s="Outside";else if(a.is(".esgbox-slide"))s="Slide";else{if(!r.current.$content||!r.current.$content.find(a).addBack().filter(a).length)return;s="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,Math.abs(d-n.tapX)>50||Math.abs(g-n.tapY)>50)return this;u("dblclick"+s)}else n.tapX=d,n.tapY=g,l.opts["dblclick"+s]&&l.opts["dblclick"+s]!==l.opts["click"+s]?n.tapped=setTimeout((function(){n.tapped=null,r.isAnimating||u("click"+s)}),500):u("click"+s);return this}},o(t).on("onActivate.egbx",(function(e,t){t&&!t.Guestures&&(t.Guestures=new c(t))})).on("beforeClose.egbx",(function(e,t){t&&t.Guestures&&t.Guestures.destroy()}))}(window,document,jQuery),function(e,t){"use strict";t.extend(!0,t.esgbox.defaults,{btnTpl:{slideShow:'<button data-esgbox-play class="esgbox-button esgbox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var o=function(e){this.instance=e,this.init()};t.extend(o.prototype,{timer:null,isActive:!1,$button:null,init:function(){var e=this,o=e.instance,s=o.group[o.currIndex].opts.slideShow;e.$button=o.$refs.toolbar.find("[data-esgbox-play]").on("click",(function(){e.toggle()})),o.group.length<2||!s?e.$button.hide():s.progress&&(e.$progress=t('<div class="esgbox-progress"></div>').appendTo(o.$refs.inner))},set:function(e){var o=this,s=o.instance,n=s.current;n&&(!0===e||n.opts.loop||s.currIndex<s.group.length-1)?o.isActive&&"video"!==n.contentType&&(o.$progress&&t.esgbox.animate(o.$progress.show(),{scaleX:1},n.opts.slideShow.speed),o.timer=setTimeout((function(){s.current.opts.loop||s.current.index!=s.group.length-1?s.next():s.jumpTo(0)}),n.opts.slideShow.speed)):(o.stop(),s.idleSecondsCounter=0,s.showControls())},clear:function(){var e=this;clearTimeout(e.timer),e.timer=null,e.$progress&&e.$progress.removeAttr("style").hide()},start:function(){var e=this,t=e.instance.current;t&&(e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_STOP).removeClass("esgbox-button--play").addClass("esgbox-button--pause"),e.isActive=!0,t.isComplete&&e.set(!0),e.instance.trigger("onSlideShowChange",!0))},stop:function(){var e=this,t=e.instance.current;e.clear(),e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_START).removeClass("esgbox-button--pause").addClass("esgbox-button--play"),e.isActive=!1,e.instance.trigger("onSlideShowChange",!1),e.$progress&&e.$progress.removeAttr("style").hide()},toggle:function(){var e=this;e.isActive?e.stop():e.start()}}),t(e).on({"onInit.egbx":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new o(t))},"beforeShow.egbx":function(e,t,o,s){var n=t&&t.SlideShow;s?n&&o.opts.slideShow.autoStart&&n.start():n&&n.isActive&&n.clear()},"afterShowESGBX.egbx":function(e,t,o){var s=t&&t.SlideShow;s&&s.isActive&&s.set()},"afterKeydown.egbx":function(o,s,n,i,a){var r=s&&s.SlideShow;!r||!n.opts.slideShow||80!==a&&32!==a||t(e.activeElement).is("button,a,input")||(i.preventDefault(),r.toggle())},"beforeClose.egbx onDeactivate.egbx":function(e,t){var o=t&&t.SlideShow;o&&o.stop()}}),t(e).on("visibilitychange",(function(){var o=t.esgbox.getInstance(),s=o&&o.SlideShow;s&&s.isActive&&(e.hidden?s.clear():s.set())}))}(document,jQuery),function(e,t){"use strict";var o=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o={},s=0;s<t.length;s++){var n=t[s];if(n&&n[1]in e){for(var i=0;i<n.length;i++)o[t[0][i]]=n[i];return o}}return!1}();if(o){var s={request:function(t){(t=t||e.documentElement)[o.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){e[o.exitFullscreen]()},toggle:function(t){t=t||e.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(e[o.fullscreenElement])},enabled:function(){return Boolean(e[o.fullscreenEnabled])}};t.extend(!0,t.esgbox.defaults,{btnTpl:{fullScreen:'<button data-esgbox-fullscreen class="esgbox-button esgbox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),t(e).on(o.fullscreenchange,(function(){var e=s.isFullscreen(),o=t.esgbox.getInstance();o&&(o.current&&"image"===o.current.type&&o.isAnimating&&(o.isAnimating=!1,o.update(!0,!0,0),o.isComplete||o.complete()),o.trigger("onFullscreenChange",e),o.$refs.container.toggleClass("esgbox-is-fullscreen",e),o.$refs.toolbar.find("[data-esgbox-fullscreen]").toggleClass("esgbox-button--fsenter",!e).toggleClass("esgbox-button--fsexit",e))}))}t(e).on({"onInit.egbx":function(e,t){o?t&&t.group[t.currIndex].opts.fullScreen?(t.$refs.container.on("click.egbx-fullscreen","[data-esgbox-fullscreen]",(function(e){e.stopPropagation(),e.preventDefault(),s.toggle()})),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&s.request(),t.FullScreen=s):t&&t.$refs.toolbar.find("[data-esgbox-fullscreen]").hide():t.$refs.toolbar.find("[data-esgbox-fullscreen]").remove()},"afterKeydown.egbx":function(e,t,o,s,n){t&&t.FullScreen&&70===n&&(s.preventDefault(),t.FullScreen.toggle())},"beforeClose.egbx":function(e,t){t&&t.FullScreen&&t.$refs.container.hasClass("esgbox-is-fullscreen")&&s.exit()}})}(document,jQuery),function(e,t){"use strict";var o="esgbox-thumbs",s=o+"-active";t.esgbox.defaults=t.extend(!0,{btnTpl:{thumbs:'<button data-esgbox-thumbs class="esgbox-button esgbox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".esgbox-container",axis:"y"}},t.esgbox.defaults);var n=function(e){this.init(e)};t.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(e){var t=this,o=e.group,s=0;t.instance=e,t.opts=o[e.currIndex].opts.thumbs,e.Thumbs=t,t.$button=e.$refs.toolbar.find("[data-esgbox-thumbs]");for(var n=0,i=o.length;n<i&&(o[n].thumb&&s++,!(s>1));n++);s>1&&t.opts?(t.$button.removeAttr("style").on("click",(function(){t.toggle()})),t.isActive=!0):t.$button.hide()},create:function(){var e,s=this,n=s.instance,i=s.opts.parentEl,a=[];s.$grid||(s.$grid=t('<div class="'+o+" "+o+"-"+s.opts.axis+'"></div>').appendTo(n.$refs.container.find(i).addBack().filter(i)),s.$grid.on("click","a",(function(){n.jumpTo(t(this).attr("data-index"))}))),s.$list||(s.$list=t('<div class="'+o+'__list">').appendTo(s.$grid)),t.each(n.group,(function(t,o){(e=o.thumb)||"image"!==o.type||(e=o.src),a.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(e&&e.length?' style="background-image:url('+e+')"':'class="esgbox-thumbs-missing"')+"></a>")})),s.$list[0].innerHTML=a.join(""),"x"===s.opts.axis&&s.$list.width(parseInt(s.$grid.css("padding-right"),10)+n.group.length*s.$list.children().eq(0).outerWidth(!0))},focus:function(e){var t,o,n=this,i=n.$list,a=n.$grid;n.instance.current&&(o=(t=i.children().removeClass(s).filter('[data-index="'+n.instance.current.index+'"]').addClass(s)).position(),"y"===n.opts.axis&&(o.top<0||o.top>i.height()-t.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+o.top},e):"x"===n.opts.axis&&(o.left<a.scrollLeft()||o.left>a.scrollLeft()+(a.width()-t.outerWidth()))&&i.parent().stop().animate({scrollLeft:o.left},e))},update:function(){var e=this;e.instance.$refs.container.toggleClass("esgbox-show-thumbs",this.isVisible),e.isVisible?(e.$grid||e.create(),e.instance.trigger("onThumbsShow"),e.focus(0)):e.$grid&&e.instance.trigger("onThumbsHide"),e.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),t(e).on({"onInit.egbx":function(e,t){var o;t&&!t.Thumbs&&(o=new n(t)).isActive&&!0===o.opts.autoStart&&o.show()},"beforeShow.egbx":function(e,t,o,s){var n=t&&t.Thumbs;n&&n.isVisible&&n.focus(s?0:250)},"afterKeydown.egbx":function(e,t,o,s,n){var i=t&&t.Thumbs;i&&i.isActive&&71===n&&(s.preventDefault(),i.toggle())},"beforeClose.egbx":function(e,t){var o=t&&t.Thumbs;o&&o.isVisible&&!1!==o.opts.hideOnClose&&o.$grid.hide()}})}(document,jQuery),function(e,t){"use strict";t.extend(!0,t.esgbox.defaults,{btnTpl:{share:'<button data-esgbox-share class="esgbox-button esgbox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(e,t){return!e.currentHash&&"inline"!==t.type&&"html"!==t.type&&(t.origSrc||t.src)||window.location},tpl:'<div class="esgbox-share"><h1>{{SHARE}}</h1><p><a class="esgbox-share__button esgbox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="esgbox-share__button esgbox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="esgbox-share__button esgbox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="esgbox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),t(e).on("click","[data-esgbox-share]",(function(){var e,o,s,n,i=t.esgbox.getInstance(),a=i.current||null;a&&("function"==typeof a.opts.share.url&&(e=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,(s=e,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(s).replace(/[&<>"'`=\/]/g,(function(e){return n[e]})))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),t.esgbox.open({src:i.translate(i,o),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(e,t){i.$refs.container.one("beforeClose.egbx",(function(){e.close(null,0)})),t.$content.find(".esgbox-share__button").on("click",(function(){return window.open(this.href,"Share","width=550, height=450"),!1}))},mobile:{autoFocus:!1}}}))}))}(document,jQuery),function(e,t,o){"use strict";function s(){var t=e.location.hash.substr(1),o=t.split("-"),s=o.length>1&&/^\+?\d+$/.test(o[o.length-1])&&parseInt(o.pop(-1),10)||1;return{hash:t,index:s<1?1:s,gallery:o.join("-")}}function n(e){""!==e.gallery&&o("[data-esgbox='"+o.escapeSelector(e.gallery)+"']").eq(e.index-1).focus().trigger("click.egbx-start")}function i(e){var t,o;return!!e&&(""!==(o=(t=e.current?e.current.opts:e.opts).hash||(t.$orig?t.$orig.data("esgbox")||t.$orig.data("esgbox-trigger"):""))&&o)}o.escapeSelector||(o.escapeSelector=function(e){return(e+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}))}),o((function(){!1!==o.esgbox.defaults.hash&&(o(t).on({"onInit.egbx":function(e,t){var o,n;!1!==t.group[t.currIndex].opts.hash&&(o=s(),(n=i(t))&&o.gallery&&n==o.gallery&&(t.currIndex=o.index-1))},"beforeShow.egbx":function(o,s,n,a){var r;n&&!1!==n.opts.hash&&(r=i(s))&&(s.currentHash=r+(s.group.length>1?"-"+(n.index+1):""),e.location.hash!=="#"+s.currentHash&&(a&&!s.origHash&&(s.origHash=e.location.hash),s.hashTimer&&clearTimeout(s.hashTimer),s.hashTimer=setTimeout((function(){"replaceState"in e.history?(e.history[a?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+s.currentHash),a&&(s.hasCreatedHistory=!0)):e.location.hash=s.currentHash,s.hashTimer=null}),300)))},"beforeClose.egbx":function(o,s,n){n&&!1!==n.opts.hash&&(clearTimeout(s.hashTimer),s.currentHash&&s.hasCreatedHistory?e.history.back():s.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(s.origHash||"")):e.location.hash=s.origHash),s.currentHash=null)}}),o(e).on("hashchange.egbx",(function(){var e=s(),t=null;o.each(o(".esgbox-container").get().reverse(),(function(e,s){var n=o(s).data("EsgBox");if(n&&n.currentHash)return t=n,!1})),t?t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&n(e)})),jQuery("body").on("essentialready",(function(e,t){o.esgbox.getInstance()||n(s())})))}))}(window,document,jQuery),function(e,t){"use strict";var o=(new Date).getTime();t(e).on({"onInit.egbx":function(e,t,s){t.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",(function(e){var s=t.current,n=(new Date).getTime();t.group.length<2||!1===s.opts.wheel||"auto"===s.opts.wheel&&"image"!==s.type||(e.preventDefault(),e.stopPropagation(),s.$slide.hasClass("esgbox-animated")||(e=e.originalEvent||e,n-o<250||(o=n,t[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())))}))}})}(document,jQuery),function(e,t){"use strict";t.extend(!0,t.esgbox,{trim:function(e){return null!=e&&"string"==typeof e?e.trim():e},is_mobile:function(){var e=["android","webos","iphone","ipad","blackberry","Android","webos","iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;if(void 0!==window.orientation)t=!0;else for(var o in e)e.hasOwnProperty(o)&&(t=!!(t||navigator.userAgent.split(e[o]).length>1)||t);return t},get_browser:function(){var e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE"):"Chrome"===o[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e[1].replace("OPR","Opera"):(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),o[0])},get_browser_version:function(){var e,t=navigator.appName,o=navigator.userAgent,s=o.match(/(edge|opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return s&&null!=(e=o.match(/version\/([\.\d]+)/i))&&(s[2]=e[1]),(s=s?[s[1],s[2]]:[t,navigator.appVersion,"-?"])[1]},isSafari11:function(){return"safari"===t.esgbox.trim(t.esgbox.get_browser().toLowerCase())&&parseFloat(t.esgbox.get_browser_version())>=11}})}(document,jQuery);